;===============================================================================
;EN ESTA SECCION SE ENCUENTRABN TODOS LOS MOVIMIETOS ESPACIALES DEL CHAR
;LA MODIFICACION SIN AUTORIZACION PUEDE SIGNIFICAR UNA FALLA TOTAL
;EN EL MISMO
;===============================================================================
;-------------------------------------------------------------------------------
[Statedef 1000]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 170
velset   = 0,0
anim     = 11400
ctrl     = 0
sprpriority = 3

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = s10,10

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = s12,11

[State 3000]
type = Projectile
trigger1 = AnimElem = 5
projID = 1400
projanim = 11410
projremove = 1
projpriority = 1
projhitanim = 11420
projremanim = 11420
projsprpriority = 5
projshadow = 0,0,0
projremovetime = -1
getpower = 0
ownpal = 0
offset = 25,1
velocity = 4, 0
attr = S, SP
animtype = Hard
damage = 90 ,10
hitflag = MAF
guardflag = M
hitsound = s12,8
guardsound = s2,1
pausetime = 0,12
sparkno = 2
guard.sparkno = s4120
sparkxy = 20,-45
ground.type = Low
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -9
air.juggle = 8
air.velocity = -3.6,-3.8
air.fall = 1
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[state 333]
type = pause
triggerall = movehit
trigger1 = time = 0
time = 1

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 5
persistent = 0
anim = 11450
postype = P1
pos = 0,0
sprpriority = 5
bindtime = 1
ownpal = 1

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;強百九式・陰褄ぎ
[Statedef 1050]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 170
velset   = 0,0
anim     = 11405
ctrl     = 0
sprpriority = 3

[state 333]
type = pause
triggerall = movehit
trigger1 = time = 0
time = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = s10,10

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = s12,11

[State 3000]
type = Projectile
trigger1 = AnimElem = 5
projID = 1400
projanim = 11410
projremove = 1
projpriority = 1
projhitanim = 11420
projremanim = 11420
projsprpriority = 5
projshadow = 0,0,0
projremovetime = -1
getpower = 0
ownpal = 0
offset = 25,1
velocity = 11, 0
attr = S, SP
animtype = Hard
damage = 90 ,10
hitflag = MAF
guardflag = M
hitsound = s12,8
guardsound = s2,1
pausetime = 0,12
sparkno = 2
guard.sparkno = s4120
sparkxy = 20,-45
ground.type = Low
ground.hittime = 23
ground.slidetime = 23
ground.velocity = -9
air.juggle = 8
air.velocity = -3.6,-3.8
air.fall = 1
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 5
persistent = 0
anim = 11450
postype = P1
pos = 0,0
sprpriority = 5
bindtime = 1
ownpal = 1

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;四百弐拾七式・?鉄

[Statedef 1200]
type     = A
movetype = A
physics  = S
juggle   = 2
poweradd = 100
velset   = 0,0
anim     = 11500
ctrl     = 0
sprpriority = 3

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (6) <= 0
value = SCA

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 20,0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s5,1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,12

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 10
value = s0,4

[state a]
type = statetypeset
trigger1 = animelem = 2
value = A

[state 33]
type = velset
trigger1 = time = 2
x = 5.5
y = 1

[state 33]
type = velset
trigger1 = animelem = 5
y = 0

[state a]
type = posadd
trigger1 = time = 2
y = -3

[state a]
type = posadd
trigger1 = time = 3
trigger2 = time = 4
y = -3

[state a]
type = posadd
trigger1 = time = 5
trigger2 = time = 6
y = -1

[state a]
type = posadd
trigger1 = time = 7
trigger2 = time = 8
x = 4
y = 0

[state a]
type = posadd
trigger1 = time = 9
x = 4
y = 1

[state a]
type = posadd
trigger1 = time = 10
trigger2 = time = 11
trigger3 = time = 12
x = 4
y = 2

[state a]
type = statetypeset
trigger1 = animelem = 5
value = S

[state a]
type = posset
trigger1 = animelem = 5
y = Helper(100000),var(0)

[state a]
type = posadd
trigger1 = animelem = 5
x = 12

[state a]
type = posadd
trigger1 = animelem = 6
trigger2 = animelem = 7
trigger3 = animelem = 8
trigger4 = animelem = 9
trigger5 = animelem = 10
trigger6 = animelem = 11
trigger7 = animelem = 12
trigger8 = animelem = 13
x = 8



[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 10
persistent = 0
anim = 1615
postype = P1
pos = 40,-65
velset = .2,-.3
sprpriority = 10
ignorehitpause = 1
ID = 1650

[State 200, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, SA
damage = 24,4
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,15
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -70
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 21
ground.hittime  = 19
ground.velocity = -2.8,ifelse((prevstateno=1861),-9.7,-9.9)
air.velocity = -2.8,ifelse((prevstateno=1861),-9.7,-9.9)
yaccel = .45
air.hittime = 12
fall = 1
fall.recovertime = 60
palfx.time = 60
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16


[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s12,8
persistent = 0
ignorehitpause = 1


[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;百八拾弐式

[Statedef 1250]
type     = S
movetype = A
physics  = S
juggle   = 3
poweradd = 100
velset   = 0,0
anim     = 11600
ctrl     = 0
sprpriority = 3

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 20,0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 8
value = s10,18

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 11
value = s0,4

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 6
x = 2

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 7
x = 8

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 8
x = 9

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 1 | AnimElem = 4 | AnimElem = 5 | AnimElem = 9
trigger2 = AnimElem = 11 | AnimElem = 12 |AnimElem = 19
x = 10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2 | AnimElem = 3 
x = 15

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 10 
x = 23


[State 700, エフェクト?示]
type = Explod
trigger1 = AnimElem = 12
anim = 1605
persistent = 0
postype = P1
pos = 65,-60
sprpriority = 5
ownpal = 1

[State 200, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, SA
damage = 110,22;100,20
animtype = diagup
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,12
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -70
hitsound = s1,4
guardsound = s2,1
ground.type = High
ground.slidetime = 21
ground.hittime  = 21
ground.velocity = -4.8,-6.5
air.velocity = -4.5,-6.2
yaccel = .45
air.hittime = 12
fall = 1
fall.recovertime = 60
palfx.time = 60
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s12,8
persistent = 0
ignorehitpause = 1


[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------


;---------------------------------------------------------------------------
; 弱百七式・禍月

[Statedef 1750]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 110
velset   = 0,0
anim     = 1750
ctrl     = 0
sprpriority = 3

[State 170, 無敵]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 5

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 20,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 3 | AnimElem = 4
x = 10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2
x = -10

[State 700, エフェクト?示]
type = Explod
trigger1 = AnimElem = 6
anim = 1778
postype = P1
pos = -18,21
persistent = 0
sprpriority = 6
ownpal = 1
bindtime = 12;10
supermove = 1
ignorehitpause = 0
removeongethit = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 6
value = s10,11
channel = 4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 7
value = s12,2

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (6) >= 0 && AnimElemTime (8) <= 0
edge = 30,0


[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 7 | AnimElem = 8
x = 10


[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 6
x = 13

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 7
x = 4.7
y = -7.5

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElemTime (8) >= 0
x = .8

[State 1000, 重力]
type = Gravity
trigger1 = AnimElem = 7,>=0


[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 7
statetype = A

[State 200, ヒット定?]
type = HitDef
trigger1 = Time = 0
attr = A, SA
damage = 92,18
animtype = up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 12,13
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -70
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.2,-8
air.velocity = -3.2,-8
yaccel = .45
air.type = High
air.hittime = 12
fall = 1
fall.recovertime = 30
palfx.time = 60
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s12,8

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= Helper(100000),var(0)
value = 1120

;---------------------------------------------------------------------------
; 着地

[Statedef 1120]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1120
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 1
value = s4,0

[State 1000,]
type = PosSet
trigger1 = Time = 0
y = Helper(100000),var(0)

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 強百七式・禍月

[Statedef 1760]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 110
velset   = 0,0
anim     = 1760
ctrl     = 0
sprpriority = 3

[State 1120, 全身無敵]
type = NotHitBy
trigger1 =  AnimElemTime (1) >= 0 && AnimElemTime (6) <= 0
value = SCA

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 20,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 3 | AnimElem = 4
x = 10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2
x = -10

[State 700, エフェクト?示]
type = Explod
trigger1 = AnimElemTime (6) >= 0 && AnimElemTime (6) <= 2
anim = 1775
postype = P1
pos = -18,21
persistent = 0
sprpriority = 6
ownpal = 1
bindtime = 13
supermove = 1
ignorehitpause = 0
removeongethit = 1

[State 700, エフェクト?示]
type = Explod
trigger1 =  AnimElemTime (6) >= 2 && AnimElemTime (7) <= 0
anim = 1776
postype = P1
pos = -18,21
persistent = 0
sprpriority = 6
ownpal = 1
bindtime = 13
supermove = 1
ignorehitpause = 0
removeongethit = 1

[State 700, エフェクト?示]
type = Explod
trigger1 = AnimElem = 7
anim = 1777
postype = P1
pos = -18,21
persistent = 0
sprpriority = 6
ownpal = 1
bindtime = 13
supermove = 1
ignorehitpause = 0
removeongethit = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 6
value = s10,11
channel = 4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 7
value = s12,2

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (6) >= 0 && AnimElemTime (8) <= 0
edge = 30,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 7 | AnimElem = 8
x = 10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 6
x = 13

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 7
y = -9.5

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 7,>=0
x = 6.3

[State 1000, 重力]
type = Gravity
trigger1 = AnimElem = 7,>=0

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(8) > 0
x = .2

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 7
statetype = A

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
damage = 40,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 13,14
sparkno = 2
guard.sparkno = 50
sparkxy = -25,-70
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1
air.velocity = -3,-5
air.type = High
air.hittime = 12
air.fall = 1
fall.recovertime = 30
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 7
attr = A, SA
damage = 64,10
animtype = up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 12,13
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -70
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.2,-10
air.velocity = -3.2,-10
yaccel = .45
air.type = High
air.hittime = 12
fall = 1
fall.recovertime = 30
palfx.time = 60
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s12,8

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= Helper(100000),var(0)
value = 1160

;---------------------------------------------------------------------------
; 着地

[Statedef 1160]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1160
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 1
value = s4,0

[State 1000,]
type = PosSet
trigger1 = Time = 0
y = Helper(100000),var(0)

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-------------------------------------------------------------------------------
;Shiki Kai (KOF2002)
[Statedef 1300];Ok!
type    = S
movetype= A
physics = N
poweradd= 109
ctrl = 0
velset = 0
sprpriority = 2
juggle = 2
facep2 = 1

[State 1000, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 1300

[State 1000, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 1300 && !animtime
value = 1301

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1301
statetype = A

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1301 && animelem = 3
movetype = I

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 1
value = s10,23
channel = 0
persistent = 0

[State 1000, 1]
type = PlaySnd
trigger1 = anim = 1301
trigger1 = time = 0
value = s10,1
persistent = 1

[State 300, Land]
type = PlaySnd
trigger1 = anim = 1301
trigger1 = time = 0
value = s0,1

[State 1000, PosAdd]
type = PosAdd
trigger1 = animelem = 3, = 5 && anim = 1301
x = 2.75

[State -2, Accel]
type = VelSet
trigger1 = anim = 1300 && animelem = 3
x = 1.75

[State -2, Accel]
type = VelSet
trigger1 = anim = 1301
x = 2.75
[State -2, Accel]
type = VelSet
trigger1 = anim = 1301 && animelem = 1
y = -3.5
[State -2, VelAdd]
type = VelAdd
trigger1 = anim = 1301 && animelemtime(1) > 0
y = 0.328125

[State 210, 1]
type = HitDef
trigger1 = anim = 1301 && animelem = 1 && !var(47)
attr = A, SA
damage = 60,10 ;1.24 Mul for Counter Hit
animtype = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 4, Hit
sparkno = 2
sparkxy = -10, -80
hitsound = s1,3
guardsound = s2,1
guard.sparkno = s4120
ground.type = High
pausetime = 12,13
guard.pausetime = 12,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 28
guard.velocity = -5.1796875
ground.velocity = -5.1796875
air.type = High
air.velocity = -6.5,-6.5
air.hittime = 13
air.juggle = 0
air.fall = 1
fall.recover = 0
getpower = 94,94
givepower = 16,16
nochainid = 1101
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5

[State 210, 1]
type = HitDef
trigger1 = anim = 1301 && animelem = 1 && var(47)
attr = A, SA
damage = 60,10 ;1.24 Mul for Counter Hit
animtype = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 4, Hit
sparkno = 2
sparkxy = -10, -80
hitsound = s1,3
guardsound = s2,1
guard.sparkno = s4120
ground.type = High
pausetime = 12,13
guard.velocity = -11.1796875
guard.pausetime = 12,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 28
ground.velocity = -4.5,-6.5
air.type = High
air.velocity = -4.5,-6.5
air.hittime = 13
air.juggle = 0
getpower = 94,94
givepower = 16,16
fall = 1
air.fall = 1
fall.recover = 0
nochainid = 1111, 1200
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5

[State 1000, 6]
type = ChangeState
triggerall = anim = 1301 && animelemtime(2) >= 1 && animelemtime(3) < 6
trigger1 = command = "a"
trigger2 = command = "b"
value = 1302
ctrl = 0

[State 1000, 6]
type = ChangeState
triggerall = anim = 1301
trigger1 = Vel Y + Pos Y >= Helper(100000),var(0)
value = 1301
ctrl = 0

[Statedef 1301]
type = S
movetype = I
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 2

[State 1000, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 1302

[State 852, PosSet]
type = PosSet
trigger1 = !time
y = Helper(100000),var(0)

[State 220,2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1302];Ok!
type    = A
movetype= A
physics = N
poweradd= 0
juggle = 0
ctrl = 0
sprpriority = 2

[State 1000, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 1303

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 6
movetype = I

[State 300, Land]
type = PlaySnd
trigger1 = animelem = 3
value = s10,2

[State 300, Land]
type = PlaySnd
trigger1 = animelem = 3
value = s0,2

[State -2, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.328125

[State 210, 1]
type = HitDef
triggerall = !var(55) || var(55) = 1100
trigger1 = animelem = 3 && !var(47)
attr = A, SA
damage = 40,10 ;1.24 Mul for Counter Hit
animtype = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 4, Hit
sparkno = 2
sparkxy = -10, -80
hitsound = s1,3
guardsound = s2,1
guard.sparkno = s4120
ground.type = High
pausetime = 12,13
guard.pausetime = 12,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 28
guard.velocity = -11.1796875
ground.velocity = -2,-10.9
air.type = High
air.velocity = -2,-10.9
air.hittime = 13
air.juggle = 0
getpower = 94,94
givepower = 16,16
fall = 1
air.fall = 1
fall.recover = 0
id = 1101
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5

[State 210, 1]
type = HitDef
triggerall = !var(55) || var(55) = 1100
trigger1 = animelem = 3 && var(47)
attr = A, SA
damage = 40,10 ;1.24 Mul for Counter Hit
animtype = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 4, Hit
sparkno = 2
sparkxy = -10, -80
hitsound = s1,3
guardsound = s2,1
guard.sparkno = s4120
ground.type = High
pausetime = 12,13
guard.pausetime = 12,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 28
guard.velocity = -11.1796875
ground.velocity = -2,-10.9
air.type = High
air.velocity = -2,-10.9
air.hittime = 13
getpower = 94,94
givepower = 16,16
fall = 1
air.fall = 1
fall.recover = 0
id = 1111
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5

[State 1000, 6]
type = ChangeState
trigger1 = Vel Y + Pos Y >= Helper(100000),var(0)
value = 1301
ctrl = 0

;-------------------------------------------------------------------------------
;Shiki Kai (KOF2002)
[Statedef 1350];Ok!
type    = S
movetype= A
physics = N
poweradd= 109
ctrl = 0
velset = 0
sprpriority = 2
juggle = 2
facep2 = 1

[State 1000, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 1310

[State 1000, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 1310 && animtime = 0
value = 1301

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1301
statetype = A

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1301 && animelem = 3
movetype = I

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 1
value = s10,23
channel = 0
persistent = 0

[State 1000, 1]
type = PlaySnd
trigger1 = anim = 1301
trigger1 = time = 0
value = s10,1
persistent = 1

[State 300, Land]
type = PlaySnd
trigger1 = anim = 1301
trigger1 = time = 0
value = s0,1

[State 1000, PosAdd]
type = PosAdd
trigger1 = animelem = 3, = 5 && anim = 1301
x = 2.75

[State -2, Accel]
type = VelSet
trigger1 = anim = 1310 && animelem = 3
x = 1.75
[State -2, Accel]
type = VelSet
trigger1 = anim = 1301
x = 2.75
[State -2, Accel]
type = VelSet
trigger1 = anim = 1301 && animelem = 1
y = -3.5
[State -2, VelAdd]
type = VelAdd
trigger1 = anim = 1301 && animelemtime(1) > 0
y = 0.328125

[State 210, 1]
type = HitDef
trigger1 = anim = 1301 && animelem = 1
attr = A, SA
damage = 60,10 ;1.24 Mul for Counter Hit
animtype = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 4, Hit
sparkno = 2
sparkxy = -10, -80
hitsound = s1,3
guardsound = s2,1
guard.sparkno = s4120
ground.type = High
pausetime = 12,13
guard.velocity = -11.1796875
guard.pausetime = 12,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 28
ground.velocity = -4.5,-6.5
air.type = High
air.velocity = -4.5,-6.5
air.hittime = 13
air.juggle = 0
getpower = 94,94
givepower = 16,16
fall = 1
air.fall = 1
fall.recover = 0
nochainid = 1111, 1200
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5

[State 1000, 6]
type = ChangeState
triggerall = anim = 1301 && animelemtime(2) >= 1 && animelemtime(3) < 6
trigger1 = command = "a"
trigger2 = command = "b"
value = 1302
ctrl = 0

[State 1000, 6]
type = ChangeState
triggerall = anim = 1301
trigger1 = Vel Y + Pos Y >= Helper(100000),var(0)
value = 1301
ctrl = 0
;---------------------------------------------------------------------------
;足払い
[Statedef 1401]
type     = S
movetype = A
physics  = S
juggle   = 2
poweradd = 30
velset   = 0,0
anim     = 12020
ctrl     = 0
sprpriority = 3

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 6
value = 0, 3

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (3) <= 0
edge = 20,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 1
x = 9

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2 
x = 7

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 3 
x = 5

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 5 
x = 9

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 6 | AnimElem = 7 
x = 9

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 4 
x = 15

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 10 
x = -10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 11 
x = -3


[State 440, ヒット定?]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = 56,5
hitflag = MAF
guardflag = L
pausetime = 10,12
sparkno = 2
guard.sparkno = s4110
sparkxy = -20, -25
hitsound = s1,3
guardsound = s2,1
ground.type = Trip
ground.slidetime = 13
ground.hittime  = 15
ground.velocity = -3,-3
air.velocity = -3,-3
guard.velocity = -6
fall = 1
getpower = 35,35
givepower = 16,16

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;外式・轟??陽

[Statedef 1500]
type     = S
movetype = A
physics  = S
juggle   = 8
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 12030
sprpriority = 2

[State 200,]
type = Posadd
trigger1 =  AnimElem = 6
x = 5

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2
x = 7

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 1
x = 9

[State 200,]
type = Posadd
trigger1 = AnimElem = 3 | AnimElem = 4 | AnimElem = 5
x = 10

[State 200,]
type = Posadd
trigger1 = AnimElem = 12 | AnimElem = 13 | AnimElem = 14
;trigger2 = Animtime = 0
x = -10

[State 200, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 56, 5
animtype = Hard
guardflag = H
hitflag = MAF
priority = 3, Hit
pausetime = 11, 12
sparkno = 2
guard.sparkno = s4110
sparkxy = -20, -70
hitsound = s1,3
guardsound = s2,1
ground.type = Low
ground.slidetime = 21
ground.hittime  = 22
ground.velocity = -9
air.type = Low
air.velocity = -4.5,-4.5
air.hittime = 12
air.fall = 1
fall.recovertime = 30
getpower = 35,35
givepower = 16,16

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4;7
value = s10,12

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 7
value = 0, 4;3

[State 210, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; 百式・鬼焼き?発動

[Statedef 1700]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 110
velset   = 0,0
anim     = 12040
ctrl     = 0
sprpriority = 3

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 1
x = 9

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2
x = 4



[State 210, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 20,0

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1705

;---------------------------------------------------------------------------
; 百式・鬼焼き?攻撃

[Statedef 1705]
type     = S
movetype = A
physics  = S
juggle   = 3
poweradd = 100
velset   = 0,0
anim     = 12045
ctrl     = 0
sprpriority = 5

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 20,0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,11
channel = 4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = s12,2

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (3) <= 0
edge = 30,0


[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElemtime(1) > 0 && AnimElemtime(3) < 0
x = 4.2;3.8


[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2
x = 20

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 2
;x = 3.8
y = -6.5;-7.5

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(2) > 0
y = .42

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 2
persistent = 0
anim = 1110
postype = P1
pos = 0,0
sprpriority = 10

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 7
persistent = 0
anim = 1115
postype = P1
pos = -10,15
sprpriority = 10

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
damage = 21,5
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 13,14
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -60
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1
air.velocity = -3,-5
air.type = High
air.hittime = 12
air.fall = 1
fall.recovertime = 30
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = Movecontact = 0 && AnimElem = 2
trigger2 = AnimElem = 3
attr = A, SA
damage = 45,9
animtype = up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 12,13
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -60
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4.2,-9.4;-3.2,-10
air.velocity = -4.2,-9.4;-3.2,-10
yaccel = .45
air.type = High
air.hittime = 12
fall = 1
fall.recovertime = 30
palfx.time = 60
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s12,8

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= Helper(100000),var(0)
value = 1160
;---------------------------------------------------------------------------
;ふっとばし
[Statedef 1600]
type     = S
movetype = A
physics  = S
juggle   = 2
poweradd = 30
velset   = 0,0
anim     = 12050
ctrl     = 0
sprpriority = 3

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 1
x = 9

[State 2100, 移動終了]
type = VelSet
trigger1 = AnimElem = 4
x = 9.8;8.6;4.5

[State 2100, 移動終了]
type = VelSet
trigger1 = AnimElem = 5
x = 0

[State 300 , 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Hard
damage    = 80
priority = 5
pausetime = 13,14
sparkno = 2
guard.sparkno = s4110
sparkxy = -20,-75
hitsound = s1,4
hitflag = MAF
guardflag = MA
guardsound = s2,1
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -4.4,-4;-5,-3;-5,-5
air.velocity = -5,-5
air.animtype = Back
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
getpower = 35,35
givepower = 16,16
fall.yvelicity = 0

[State 300, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s0,4

[State 300, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,2

[State 300, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 弱独楽屠り

[Statedef 1800]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 90
velset   = 0,0
anim     = 1800
ctrl     = 0
sprpriority = 5

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (3) >= 0
edge = 30,-60

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s3,2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s10,16

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 7
value = s0,4

;40448
[State -2, Accel]
type = VelSet
trigger1 = anim = 1800 && animelemtime(3) > 0
;x = (5.71875*exp((-0.04800921918636060775200362532344)*(time-8)))
x = (7*exp((-0.04800921918636060775200362532344)*(time-7)))
[State -2, Accel]
type = VelSet
trigger1 = anim = 1810 && animelemtime(3) > 0
;x = (5.71875*exp((-0.04800921918636060775200362532344)*(time-8)))
x = (9.53125*exp((-0.04800921918636060775200362532344)*(time-9)))

;5.71875
;5.45068359375
;5.1951904296875
[State -2, Accel]
type = VelSet
trigger1 = anim = 1800
trigger1 = animelem = 3
y = -6

[State -2, VelAdd]
type = VelAdd
trigger1 = anim = 1800
trigger1 = animelemtime(3) > 0  && animelemtime(7) < 0
y = 0.375+0.1875

[State -2, VelAdd]
type = VelAdd
trigger1 = anim = 1800
trigger1 = animelemtime(7) >= 0
y = 0.625

[State -2, VelAdd]
type = PosAdd
trigger1 = anim = 1800 && animelem = 7
x = Vel X
persistent = 0

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 3
statetype = A

[State 210, 1]
type = HitDef
triggerall = !var(55)
trigger1 = animelem = 4
attr = A, SA
damage = 100,10 ;1.24 Mul for Counter Hit
animtype = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 4, Hit
sparkno = 2
sparkxy = -10, -80
hitsound = s1,3
guardsound = s2,1
guard.sparkno = s4120
ground.type = High
pausetime = 8,9
guard.pausetime = 8,9
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 28
ground.velocity = -4.5,ifelse(var(10),-10.5,-7)
air.type = High
air.velocity = -4.5,-7
air.hittime = 13
air.juggle = 0
getpower = 94,94
givepower = 16,16
fall = 1
air.fall = 1
id = 1700
nochainid = 1700
fall.recovertime = 35
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5

[State 1000, ステート変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= Helper(100000),var(0)-10
value = 1160

;---------------------------------------------------------------------------
; 弱独楽屠り
[Statedef 1810];Ok!
type    = S
movetype= A
physics = N
poweradd= 109
ctrl = 0
velset = 0
sprpriority = 2
juggle = 0
facep2 = 1

[State 1000, VarSet]
type = VarSet
trigger1 = !time
var(47) = ifElse(Command = "a",0,1)

[State 1000, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 1810

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
statetype = A
;9.0234375
;8.40625

;0.6171875

;40448
[State -2, Accel]
type = VelSet
trigger1 = anim = 1800 && animelemtime(3) > 0
;x = (5.71875*exp((-0.04800921918636060775200362532344)*(time-8)))
x = (7*exp((-0.04800921918636060775200362532344)*(time-7)))
[State -2, Accel]
type = VelSet
trigger1 = anim = 1810 && animelemtime(3) > 0
;x = (5.71875*exp((-0.04800921918636060775200362532344)*(time-8)))
x = (9.53125*exp((-0.04800921918636060775200362532344)*(time-9)))

;5.71875
;5.45068359375
;5.1951904296875
[State -2, Accel]
type = VelSet
trigger1 = anim = 1800
trigger1 = animelem = 3
y = -6
[State -2, Accel]
type = VelSet
trigger1 = anim = 1810
trigger1 = animelem = 3
y = -4
[State -2, VelAdd]
type = VelAdd
trigger1 = anim = 1800
trigger1 = animelemtime(3) > 0  && animelemtime(7) < 0
y = 0.375+0.1875
[State -2, VelAdd]
type = VelAdd
trigger1 = anim = 1800
trigger1 = animelemtime(7) >= 0
y = 0.625
[State -2, VelAdd]
type = VelAdd
trigger1 = anim = 1810
trigger1 = animelemtime(3) > 0 && animelemtime(16) < 0
y = 0.09375
[State -2, VelAdd]
type = VelAdd
trigger1 = anim = 1810
trigger1 = animelemtime(16) >= 0
y = 0.28125
[State -2, VelAdd]
type = PosAdd
trigger1 = anim = 1800 && animelem = 7
x = Vel X
persistent = 0
[State -2, VelAdd]
type = PosAdd
trigger1 = anim = 1810 && animelem = 16
x = Vel X
persistent = 0

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = anim = 1810 && animelem = 7
trigger3 = anim = 1810 && animelem = 15
value = 0,3

[state 23]
type = playsnd
trigger1 = animelem = 3
value = s10,23

[state 23]
type = playsnd
trigger1 = anim = 1810 && animelem = 15
value = s10,16

[State 210, 1]
type = HitDef
triggerall = !var(55)
trigger1 = animelem = 4
attr = A, SA
damage = floor(40*ifelse(var(56),1.25,1)),10 ;1.24 Mul for Counter Hit
animtype = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 4, Hit
sparkno = 2
sparkxy = -10, -80
hitsound = s1,3
guardsound = s2,1
guard.sparkno = s4120
ground.type = High
pausetime = 8,9
guard.pausetime = 8,9
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 28
ground.velocity = -4.5,ifelse(var(10),-10.5,-7)
air.type = High
air.velocity = -4.5,-7
air.hittime = 13
air.juggle = 0
getpower = 94,94
givepower = 16,16
fall = 1
air.fall = 1
id = 1700
nochainid = 1700
fall.recovertime = 35
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5

[State 210, 1]
type = HitDef
triggerall = !var(55)
trigger1 = anim = 1810 && animelem = 7
attr = A, SA
damage = floor(20*ifelse(var(56),1.25,1)),10 ;1.24 Mul for Counter Hit
animtype = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 4, Hit
sparkno = 2
sparkxy = -10, -80
hitsound = s1,3
guardsound = s2,1
guard.sparkno = s4120
ground.type = High
pausetime = 8,9
guard.pausetime = 8,9
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 28
ground.velocity = -3.5,-7
air.type = High
air.velocity = -3.5,-7
air.hittime = 13
air.juggle = 0
getpower = 94,94
givepower = 16,16
fall = 1
air.fall = 1
fall.recovertime = 35
id = 1710
nochainid = 1710
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5

[State 210, 1]
type = HitDef
triggerall = !var(55)
trigger1 = anim = 1810 && animelem = 16
attr = A, SA
damage = floor(30*ifelse(var(56),1.25,1)),10
animtype = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
sparkno = 2
sparkxy = -20, -60
hitsound = s1,3
guardsound = s2,1
guard.sparkno = s4120
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5,15
guard.velocity = -11
air.velocity = -5,55
airguard.velocity = -3,-5
air.animtype = back
air.hittime = 0
air.fall = 1
fall.recover = 0
air.fall.recover = 0
fall = 1
fall.recovertime = 0
fall.envshake.ampl = 5
fall.envshake.freq = 90
fall.envshake.time = 15
getpower = 47,47
givepower = 16,16
p2stateno = 1877
id = 1710
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = 0.5
fall.xvelocity = -2
fall.yvelocity = -6

[State 1000, 6]
type = ChangeState
triggerall = statetype = A
trigger1 = Vel Y + Pos Y >= Helper(100000),var(0)
value = 1801
ctrl = 0

[Statedef 1801]
type = S
movetype = I
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 2

[State 1000, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 1801

[State 300, Land]
type = PlaySnd
trigger1 = !time
value = 2+(var(32)*10),2

[State 852, PosSet]
type = PosSet
trigger1 = !time
y = Helper(100000),var(0)

[State 220,2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1820]
type    = U;A
movetype= H
physics = N
ctrl = 0

[State 5030, 4]
type = ChangeState
trigger1 = !time
trigger1 = statetype != A
value = stateno + 4 ;HITA_FALL

[State 1250, StateTypeSet]
type = StateTypeSet
trigger1 = !time
statetype = A       ;S,A,C,L

[State 1250, ChangeAnim]
type = ChangeAnim
trigger1 = !hitshakeover;!time
value = 5030+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1107, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 5030, 4]
type = ChangeState
trigger1 = HitShakeOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= Helper(100000),var(0)+10  ;.
value = stateno + 1 ;HITA_FALL

; HITA_FALL (knocked up, falling)
[Statedef 1821]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069]) && (Anim != [105051, 105059]) && (Anim != [105061, 105069])
trigger2 = Anim != 5090+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) ;Not if hit off ground anim
value = 5050+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [105050,105059]
trigger1 = Vel Y >= ifelse(anim = 105050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y + Pos Y >= Helper(100000),var(0)
value = stateno + 1 ;HIT_BOUNCE

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 1822]
type    = L
movetype= H
physics = N

[State 1352, NotHitBy]
type = NotHitBy
trigger1 = time < 6
value = SCA
time = 1

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim2
trigger1 = !time
value = stateno+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*30000)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = Name = "cvsfelicia" && authorname = "Jesuszilla"
trigger1 = !time
value = 5100

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = Helper(100000),var(0)

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = time = 5
value = stateno + 1

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 1823]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
trigger1 = animtime = 0
value = 5160+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)

[State 1207, VelSet]
type = VelSet
trigger1 = time = 0
x = ifelse((facing=enemynear,facing),-gethitvar(fall.xvel),gethitvar(fall.xvel))
y = gethitvar(fall.yvel)

[State 5101, 4]
type = PosSet
trigger1 = animelem = 3
y = Helper(100000),var(0)+10

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= Helper(100000),var(0)+12
type = SelfState
value = 5110

;---------------------------------------------------------------------------
; HITG_SHAKE
[Statedef 1824]
type    = S
movetype= H
physics = N
velset = 0,0
p2facing = 1

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000),5010+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)) + GetHitVar(animtype)

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != Helper(100000),var(0)
statetype = a

[State 5000, 7]
type = ChangeState
trigger1 = HitShakeOver
value = stateno + 1

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140
;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 1825]
type    = L
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = !SelfAnimExist(5100+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + (anim % 10))
value = 5100+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5100+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + (anim % 10))
value = 5100+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = Helper(100000),var(0)

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = SelfState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = stateno + 1;5101

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 1826]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger1 = anim != [105101,105109]
trigger2 = !SelfAnimExist(5160+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + (anim % 10))
value = 5160+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000)

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [105101,105109]
trigger1 = SelfAnimExist(5160+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + (anim % 10))
value = 5160+((Name = "Gill" && AuthorName = "GM" && Facing = -1)*100000) + (anim % 10)

[State 1256, VelSet]
type = VelSet
trigger1 = time = 0
y = -4.5

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = Helper(100000),var(0)+ 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= Helper(100000),var(0)+12
type = SelfState
value = 5110

;------  弐百拾弐式・琴月?陽[持ち上げ]  ------
[Statedef 1850]
type = S
movetype = A
physics = N
anim = 1850
velset = 0,0
ctrl = 0
facep2 = 1

[State 1020, 2]
type = VarSet
trigger1 = Time = 0
var(1) = 0

[State 810, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(1) > 0 && AnimElemtime(4) < 0
edge = 50,0


[State 1120, 2]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
x = 10
[State 1120, 2]
type = PosAdd
trigger1 = AnimElem = 9
x = 10

[State 1120, 2]
type = PosAdd
trigger1 = AnimElem = 12
trigger2 = AnimElem = 13
trigger3 = AnimElem = 14
x = 6

[state 33]
type = playsnd
trigger1 = animelem = 4
value = s10,23

[State 200, ヒット定?]
type = HitDef
trigger1 = p2statetype = L && AnimElem = 9
attr = S, ST
damage = 0, 0
animtype = Hard
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0,0
sparkno = 2
guard.sparkno = 50
sparkxy = 15, -75
hitsound = s1,6
guardsound = s2,1
ground.type = low
ground.slidetime = 19
ground.hittime  = 20
ground.velocity = 0
guard.velocity = -9
air.type = low
air.velocity = 0,0
airguard.velocity = -4,-5
air.hittime = 12
fall = 1
fall.recover = 0
p1stateno = 1851
p2stateno = 1420
p1facing = 1
p2facing = 1
ground.cornerpush.veloff = ifelse(Movehit=1,1,0)
air.cornerpush.veloff = ifelse(Movehit=1,1,0)
getpower = 35,35
givepower = 16,16

[State 200, ヒット定?]
type = HitDef
trigger1 = p2statetype != L && MoveContact = 0 && AnimElem = 10
attr = S, SA
damage = 0, 0
animtype = Hard
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 0,0
sparkno = 2
guard.sparkno = 50
sparkxy = 18, -75
hitsound = s1,6
guardsound = s2,1
ground.type = low
ground.slidetime = 19
ground.hittime  = 20
ground.velocity = 0
guard.velocity = -9
air.type = low
air.velocity = 0,0
airguard.velocity = -4,-5
air.hittime = 12
fall = 1
fall.recover = 0
p1stateno = 1851
p2stateno = 1420
p1facing = 1
p2facing = 1
ground.cornerpush.veloff = -15
air.cornerpush.veloff = ifelse(Movehit=1,1,0)
getpower = 35,35
givepower = 16,16

[State 1001, 3]
type = ChangeState
trigger1 = movehit = 1
value = 1851

[State 1001, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------  弐百拾弐式・琴月?陽[爆発]  ------
[Statedef 1851]
type = S
movetype = A
physics = S
anim = 1851

[State 170, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 50,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = s12,12

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s12,5

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 3
persistent = 0
anim = 1430
postype = P1
pos = 45,-90
sprpriority = 10
scale = 0.75,0.75

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 1
x = 0

[State 810, 3]
type = TargetBind
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) <= 0
pos = 59, -90

[State 810, 3]
type = TargetBind
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(3) <= 0
pos = 59, -122

[State 810, 3]
type = TargetBind
trigger1 = AnimElemtime(3) = 1
pos = 59, -50

[State 2110, 相手と重なった時の処理]
type = PlayerPush
trigger1 = 1
value = 0

[State 810,]
type = EnvShake
trigger1 = AnimElem = 3
ampl = 10
freq = 100
time = 20

[State 2004]
type = pause
trigger1 = time = [21,29]
trigger1 = Timemod = 3,0
time = 3


[State 810, ヒット定?]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NT
damage = 80,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = -1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3,-8.1
air.velocity = -3,-8.1
yaccel = .5
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16

[State 1270, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------  琴月やられ[２P処理]  ------
[Statedef 1852]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 1100, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 1520, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1320, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1852

;---------------------------
[Statedef 1853]
type = A
movetype = H
physics = N

[State 1280, 2]
type = ChangeAnim
trigger1 = animexist(1234)
Trigger1 = Time = 0
value = 1853

[State 1280, 2]
type = ChangeAnim
trigger1 = !animexist(1234)
Trigger1 = Time = 0
value = 5012

[State 800, 1]
type = HitBy
trigger1 = 1
value = SCA, HT
time = 1

[State 9000, 1];燃え
type = PalFX
trigger1 = 1
time = 60
add = 0,-50,80
sinadd = 50,50,50,15
invertall = 1
color = 1

[State 8145, 2]
type = ChangeAnim
trigger1 = !AnimExist(1234)
Trigger1 = time = 2
value = 5030

[State 8145, 2]
type = ChangeAnim
trigger1 = !AnimExist(1234)
Trigger1 = time = 9
value = 5050

[State 8145, 1]
type = Velset
trigger1 = P2dist X >= 0
trigger1 = Time = 0
x = -2
y = -7

[State 1500, 2]
type = PosAdd
trigger1 = time = 2
y = -20

[State 1500, 2]
type = PosAdd
trigger1 = time = 3
y = -20

[State 1281, 1]
type = VelAdd
trigger1 = Time > 0
y = .4

[State 3000,1]
type = Explod
trigger1 = Vel Y > 0 && Pos Y >= Helper(100000),var(0)
anim = F4018
pos = -30,3
sprpriority = 3
supermove = 2
Bindtime = 1

[State 2160, 33]
type = Explod
trigger1 = Vel Y > 0 && Pos Y >= Helper(100000),var(0)
anim = F61
sprpriority = -2
postype = p1
pos = 0,0
bindtime = 1

[State 1281, 3]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= Helper(100000),var(0)
value = 5100


;-------------------------------------------
;99
[Statedef 1860]
type = S
movetype = A
physics = N
juggle = 0
anim = 1860
poweradd = ifelse(Var(10) != 0,0,150)
ctrl = 0
velset = 0
facep2 = 1

[State 1401, 3]
type = posadd
trigger1 = AnimElem = 3
x = 10
[State 1401, 3]
type = posadd
trigger1 = AnimElem = 4
x = 18
[State 1401, 3]
type = posadd
trigger1 = AnimElem = 5
x = 15
[State 1401, 3]
type = posadd
trigger1 = AnimElem = 5,1
x = 3

[State 1401, 3]
type = null;VelSet
trigger1 = AnimElem = 3
x = 11

[State 1660, 4]
type = VelMul
trigger1 = 1
x = .8

[State 2200, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,4
channel = 0
volume = 0

[State 1005, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 5,2
volume = 0

[State 1105, 4]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
animtype = Hard
damage = 50,10
getpower = 65,10
givepower = 20,20
guardflag = M
pausetime = 45,50
guard.pausetime = 25,25
sparkno = 2
guard.sparkno = s4120
sparkxy = -15,-80
hitsound = s1,4
guardsound = s2,0
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
guard.hittime = 14
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
envshake.time = 25
envshake.freq = 120
envshake.ampl = 7

[State 1100, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 1861

;弱??鉄'99?２撃
[Statedef 1861]
type = S
movetype = A
physics = S
anim = 1861
poweradd = 0
ctrl = 0

[State 1401, 3]
type = posadd
trigger1 = AnimElem = 1
x = 2
[State 1401, 3]
type = posadd
trigger1 = AnimElem = 1,1
x = 1

[State 1005, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 5,24
volume = 0

[State 5040, 4]
type = StateTypeSet
trigger1 = AnimElem = 10
movetype = I

[State 1105, 4]
type = HitDef
trigger1 = AnimElem = 9
attr = S, SA
animtype = Hard
damage = 80,10
getpower = 30,10
givepower = 20,20
guardflag = M
pausetime = 45,45
guard.pausetime = 25,25
sparkno = 2
guard.sparkno = s4120
sparkxy = -15,-80
hitsound = s1,4
guardsound = s2,0
ground.slidetime = 30
ground.hittime = 17
ground.velocity = -5,-6
fall = 1
air.fall = 1
air.velocity = -5,-6
guard.hittime = 14
guard.velocity = -13
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -19
envshake.time = 25
envshake.freq = 120
envshake.ampl = 7
fall.recover = 0

[State 1000,]
type = ChangeState
trigger1 = command = "エディット浮かせ"
trigger1 = AnimElemtime(9) >= 0 && AnimElemtime(10) <= 15
value = 1200

[State 1100, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 1862

;----------------------
[Statedef 1862]
type = S
movetype = I
physics = S
anim = 1862
poweradd = 0
velset = 0
ctrl = 0

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------
[Statedef 1870]
type = S
movetype = A
physics = S
anim = 1870
poweradd = ifelse(Var(10) != 0,0,150)
velset = 0
ctrl = 0
facep2 = 1

[State 240, どこキャンゲ?ジ消費]
type = VarAdd
triggerall = var(10) != 0 && var(30) = 0 && time = 0
trigger1 = var(33) = 1 || var(33) = 2
trigger2 = prevstateno = [200,2999]
var(10) = -200
persistent = 0
ignorehitpause = 1

[State 240, どこキャン?滅]
type = VarAdd
triggerall = var(30) = 0 && var(10) != 0 && time = 0
trigger1 = prevstateno = [200,2999]
var(36) = 9

[State 3000, 無敵]
type = HitBy
trigger1 = time = 0
value = SCA, NT, ST
time = 30

[State 2200, 3]
type = PlaySnd
trigger1 = time = 9
value = 3,1
volume = 0

[State 2105, 8]
type = ChangeState
trigger1 = animTime = 0
value = 1871


;強??鉄'99?空中
[Statedef 1871]
type = A
movetype = A
physics = N
anim = 1871
poweradd = 0
velset = 0
ctrl = 0

[State -2, 0]
type = RemoveExplod
trigger1 = time = 0
ignorehitpause = 1
ID = 200002

[State 1001, 3]
type = VelSet
trigger1 = Time = 0
x = 7.5
y = -5

[State 1001, 4]
type = VelAdd
trigger1 = Time > 0
y = .9

[State 1001, 21]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= Helper(100000),var(0)-5
value = 1872

;----------------------------------
[Statedef 1872]
type = S
movetype = A
physics = N
anim = 1872
ctrl = 0
velset = 0,0

[State 2200, 3]
type = PlaySnd
trigger1 = time = 0
value = 109,19
volume = 0

[State 52, 1]
type = Playsnd
trigger1 = Time = 0 && !NumExplod(200000)
trigger2 = Time = 0 && !NumExplod(300000)
value = F1,1

[State 52, 1]
type = Playsnd
trigger1 = Time = 0 && NumExplod(200000)
value = F1,2
[State 52, 1]
type = Playsnd
trigger1 = Time = 0 && NumExplod(300000)
value = F1,5

[State 1001, 3]
type = VelSet
trigger1 = Time = 0
x = 5.5

[State 1660, 4]
type = VelMul
trigger1 = 1
x = .9

[State 1102, 1]
type = PosSet
trigger1 = Time = 0
y = Helper(100000),var(0)

[State 2610, width]
type = Width
trigger1 = 1
edge = 20,0

[State 2200, 3]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 3,34
channel = 0
volume = 0

[State 2200, 3]
type = PlaySnd
trigger1 =  AnimElem = 1
value = 5,25
volume = 0

[State 1305, 1]
type = posadd
trigger1 = AnimElem = 6
x = 5

[State 1305, 1]
type = posadd
trigger1 = AnimElem = 7
trigger2 = AnimElem = 8
x = 4

[State 1305, 1]
type = posadd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
x = 2

[State 1105, 4]
type = HitDef
trigger1 = AnimElem = 9
attr = S, SA
animtype = Hard
damage = ifelse(enemy,var(0) = 1,50,40),10
getpower = ifelse(Var(10) != 0,0,65),ifelse(Var(10) != 0,0,65)
givepower = 20,20
guardflag = M
pausetime = 35,35
guard.pausetime = 12,12
sparkno = 2
guard.sparkno = s4120
sparkxy = -15,-80
hitsound = s1,4
guardsound = s2,0
envshake.time = 25
envshake.freq = 120
envshake.ampl = 7
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0,-9.8
fall = 1
air.hittime = 17
air.velocity = 0,-9.8
air.fall = 1
guard.hittime = 14
guard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
fall.recover = 0

[State -2, 7]
type = null;Varadd
trigger1 = MoveGuarded = 1
var(5) = 200
ignorehitpause = 1
persistent = 0

[State 2110, 8]
type = ChangeState
trigger1 = movehit && AnimTime = 0
value = 1873

[State 2110, 8]
type = ChangeState
trigger1 = !movehit && AnimTime = 0
value = 1874

;----------------------------------
[Statedef 1873]
type = S
movetype = A
physics = N
anim = 1873
ctrl = 0

[State 1660, 4]
type = VelMul
trigger1 = 1
x = .9

[State 1001, 3]
type = VelSet
trigger1 = Time = 15
x = 0

[State 2200, 3]
type = PlaySnd
trigger1 =  AnimElem = 11
value = 109,20
channel = 0
volume = 0

[State 2610, width]
type = Width
trigger1 = 1
edge = 20,0

[State 5040, 4]
type = StateTypeSet
trigger1 = AnimElem = 13
movetype = I

[State 1105, 4]
type = HitDef
trigger1 = AnimElem = 12
attr = S, HA
animtype = Hard
damage = ifelse(enemy,var(0) = 1,100,80),10
getpower = ifelse(Var(10) != 0,0,65),ifelse(Var(10) != 0,0,65)
givepower = 20,20
guardflag = M
pausetime = 60,60
guard.pausetime = 20,20
sparkno = 2
guard.sparkno = s4120
sparkxy = -15,-80
hitsound = s12,5
guardsound = s2,0
envshake.time = 27
envshake.freq = 120
envshake.ampl = 20
envshake.phase = 120
ground.slidetime = 30
ground.hittime = 17
ground.velocity = 0
p2stateno = 1875
palfx.time = 120
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
guard.hittime = 14
guard.velocity = -13
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -19

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 11
persistent = 0
anim = 1615
postype = P1
pos = 40,-65
velset = .2,-.3
sprpriority = 10
ignorehitpause = 1
ID = 1650

[State 2110, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------
[Statedef 1874]
type = S
movetype = A
physics = N
anim = 1874
ctrl = 0

[State 1660, 4]
type = VelMul
trigger1 = 1
x = .9

[State 1001, 3]
type = VelSet
trigger1 = Time = 15
x = 0

[State 2610, width]
type = Width
trigger1 = 1
edge = 20,0

[State 2110, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 1875]
type    = A
movetype= H
physics = N
velset = 0,0
facep2 = 1

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = VelSet
trigger1 = time = 20
x = -2.4
y = -24

[State 52, 2]
type = Veladd
trigger1 = time >= 20
y = .5

[State -3, Slow Down]
type = Pause
trigger1 = Pos Y >= Helper(100000),var(0)
trigger2 = Vel Y = 0
time = 1
movetime = 0
ignorehitpause = 1

[State 810,]
type = EnvShake
trigger1 = Pos Y >= Helper(100000),var(0)
trigger1 = Vel Y > 0
ampl = 10
freq = 120
time = 10

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1875

[State 1830]
type = SelfState
trigger1 = Pos Y >= Helper(100000),var(0)
trigger1 = Vel Y > 0
value = 5100

;-------------------------------------------------------------------------------
[Statedef 1876]
type    = A
movetype= H
physics = N
velset = 0,0
facep2 = 1

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = VelSet
trigger1 = time = 20
x = -2.4
y = -24

[State 52, 2]
type = Veladd
trigger1 = time >= 20
y = .5

[State 810,]
type = EnvShake
trigger1 = Pos Y >= Helper(100000),var(0)
trigger1 = Vel Y > 0
ampl = 10
freq = 120
time = 10

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1875

[State 1830]
type = SelfState
trigger1 = Pos Y >= Helper(100000),var(0)
trigger1 = Vel Y > 0
value = 5100

;-------------------------------------------------------------------------------
[Statedef 1877]
type    = A
movetype= H
physics = N
velset = 0,0
facep2 = 1

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = VelSet
trigger1 = time = 10
x = -5
y = 15

[State 52, 2]
type = Veladd
trigger1 = time >= 10
y = .5

[State 810,]
type = EnvShake
trigger1 = Pos Y >= Helper(100000),var(0)
trigger1 = Vel Y > 0
ampl = 10
freq = 120
time = 10

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5030

[State 1830]
type = SelfState
trigger1 = Pos Y >= Helper(100000),var(0)
trigger1 = Vel Y > 0
value = 5100

;-----------------------------------------------
[Statedef 2360]
type = S
movetype = I
physics = S
anim = 10000

[State 1500, 2]
type = posadd
trigger1 = time = 0
x = 50

[State 1500, 2]
type = velset
trigger1 = time = [0,1]
x = 10

[State 1000, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 5

[State end]
type = destroyself
trigger1 = time = 10
;---------------------------------------------------------------------------
; 弱空中独楽屠り

[Statedef 1900]
type     = A
movetype = A
physics  = N
juggle   = 8
poweradd = 90
velset   = 0,0
anim     = 1900
ctrl     = 0
sprpriority = 5

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 30,-60

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = s3,2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = s10,16

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = s0,4

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElemtime(2) >= 0
x = 4

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 2
y = -2.5

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(2) >= 0
y = .6

[State 200, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = A, SA
damage = 70,16
animtype = up
guardflag = MA
hitflag = HAF
priority = 3, Hit
pausetime = 6,6
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -75
hitsound = s1,4
guardsound = s2,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5,15
guard.velocity = -11
air.velocity = -5,15
airguard.velocity = -5,-5
air.type = High
air.hittime = 12
p2stateno = 1877
fall = 1
fall.recover = 0
fall.envshake.ampl = 5
fall.envshake.freq = 90
fall.envshake.time = 15
getpower = 35,35
givepower = 16,16

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= Helper(100000),var(0)-10
value = 1801

;---------------------------------------------------------------------------
; 強空中独楽屠り

[Statedef 1910]
type     = A
movetype = A
physics  = N
juggle   = 8
poweradd = 90
velset   = 0,0
anim     = 1900
ctrl     = 0
sprpriority = 5

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 30,0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = s3,2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,17

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = s0,4

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElemtime(2) >= 0
x = 6

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 2
y = -3

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(2) >= 0
x = -.1
y = .6

[State 200, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = A, SA
damage = 70,20
animtype = up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 6,6
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -75
hitsound = s1,4
guardsound = s2,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5,15
guard.velocity = -11
air.velocity = -5,15
airguard.velocity = -5,-5
air.type = High
air.hittime = 12
fall = 1
p2stateno = 1877
fall.recover = 0
fall.envshake.ampl = 5
fall.envshake.freq = 90
fall.envshake.time = 15
getpower = 35,35
givepower = 16,16

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= Helper(100000),var(0)-10
value = 1801


;---------------------------------------------------------------------------
; 着地

[Statedef 1161]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1161
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 1
value = s4,0

[State 1000,]
type = PosSet
trigger1 = Time = 0
y = Helper(100000),var(0)

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 着地

[Statedef 1162]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1162
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 1
value = s4,0

[State 1000,]
type = PosSet
trigger1 = Time = 0
y = Helper(100000),var(0)

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




;この下、一行以上空ける事…
;---------------------------------------------------------------------------
;足払い
[Statedef 14051]
type     = S
movetype = A
physics  = S
juggle   = 2
poweradd = 30
velset   = 0,0
anim     = 12026
ctrl     = 0
sprpriority = 3

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 6
value = 0, 3

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (3) <= 0
edge = 30,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 1
x = 9

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2 
x = 7

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 3 
x = 6


[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 4 | AnimElem = 5 | AnimElem = 6 
x = 9

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 9
x = -10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 10 
x = -9

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 12 
x = -1;7

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 11 
x = -12;8

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 3
statetype = C

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 12
statetype = S

[State 440, ヒット定?]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 56,5
hitflag = MAF
guardflag = L
pausetime = 10,12
sparkno = 2
guard.sparkno = s4110
sparkxy = -20, -25
hitsound = s1,3
guardsound = s2,1
ground.type = Trip
ground.slidetime = 13
ground.hittime  = 15
ground.velocity = -3,-3
air.velocity = -3,-3
guard.velocity = -6
fall = 1
getpower = 35,35
givepower = 16,16

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;足払い
[Statedef 1406]
type     = S
movetype = A
physics  = S
juggle   = 2
poweradd = 30
velset   = 0,0
anim     = 12027
ctrl     = 0
sprpriority = 3

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 6
value = 0, 3

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (3) <= 0
edge = 30,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 1
x = 9

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2 
x = 7

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 3 
x = 6


[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 4 | AnimElem = 5 | AnimElem = 6 
x = 9

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 9
x = -10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 11 
x = -1;7


[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 3
statetype = C

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 11
statetype = S

[State 440, ヒット定?]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 56,5
hitflag = MAF
guardflag = L
pausetime = 10,12
sparkno = 2
guard.sparkno = s4110
sparkxy = -20, -25
hitsound = s1,3
guardsound = s2,1
ground.type = Trip
ground.slidetime = 13
ground.hittime  = 15
ground.velocity = -3,-3
air.velocity = -3,-3
guard.velocity = -6
fall = 1
getpower = 35,35
givepower = 16,16

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




;---------------------------------------------------------------------------
; 強百式・鬼焼き?発動

[Statedef 1761]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 110
velset   = 0,0
anim     = 1761
ctrl     = 0
sprpriority = 3

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 20,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 3
x = 10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2
x = 15

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1765


;---------------------------------------------------------------------------
; 弱百式・鬼焼き?発動

[Statedef 1750]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 110
velset   = 0,0
anim     = 1750
ctrl     = 0
sprpriority = 3

[State 1120, 全身無敵]
type = NotHitBy
trigger1 =  AnimElemTime (1) >= 0 && AnimElemTime (6) <= 0
value = SCA

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 20,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 3 | AnimElem = 4
x = 10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2
x = -10

[State 700, エフェクト?示]
type = Explod
trigger1 = AnimElem = 6
anim = 1775
postype = P1
pos = -18,21;-15, 10
persistent = 0
sprpriority = 6;5
ownpal = 1
bindtime = 12;10
supermove = 1
ignorehitpause = 0
removeongethit = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 6
value = s10,11
channel = 4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 7
value = s12,2

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (6) >= 0 && AnimElemTime (8) <= 0
edge = 30,0


[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 7 | AnimElem = 8
x = 10


[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 6
x = 13

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 7
x = 4.7
y = -7.5

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElemTime (8) >= 0
x = .8

[State 1000, 重力]
type = Gravity
trigger1 = AnimElem = 7,>=0


[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 7
statetype = A

[State 200, ヒット定?]
type = HitDef
trigger1 = Time = 0
attr = A, SA
damage = 92,18
animtype = up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 12,13
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -70
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.2,-8
air.velocity = -3.2,-8
yaccel = .45
air.type = High
air.hittime = 12
fall = 1
fall.recovertime = 30
palfx.time = 60
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s12,8

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= Helper(100000),var(0)
value = 1160
;---------------------------------------------------------------------------
; 強百式・鬼焼き?発動

[Statedef 1760]
type     = S
movetype = A
physics  = S
juggle   = 4
poweradd = 110
velset   = 0,0
anim     = 1760
ctrl     = 0
sprpriority = 3

[State 1120, 全身無敵]
type = NotHitBy
trigger1 =  AnimElemTime (1) >= 0 && AnimElemTime (6) <= 0
value = SCA

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 20,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 3 | AnimElem = 4
x = 10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2
x = -10

[State 700, エフェクト?示]
type = Explod
trigger1 = AnimElem = 6
anim = 1775
postype = P1
pos = -18,21;-15, 10
persistent = 0
sprpriority = 6;5
ownpal = 1
bindtime = 13
supermove = 1
ignorehitpause = 0
removeongethit = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 6
value = s10,11
channel = 4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 7
value = s12,2

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (6) >= 0 && AnimElemTime (8) <= 0
edge = 30,0


[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 7 | AnimElem = 8
x = 10


[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 6
x = 13

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 7
x = 6.3;4.7
y = -9.5;-8

[State 1000, 重力]
type = Gravity
trigger1 = AnimElem = 7,>=0


[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(8) > 0
x = .2;1.1


[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 7
statetype = A

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
damage = 40,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 13,14
sparkno = 2
guard.sparkno = 50
sparkxy = -25,-70
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1
air.velocity = -3,-5
air.type = High
air.hittime = 12
air.fall = 1
fall.recovertime = 30
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 7
attr = A, SA
damage = 64,10
animtype = up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 12,13
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -70
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.2,-10
air.velocity = -3.2,-10
yaccel = .45
air.type = High
air.hittime = 12
fall = 1
fall.recovertime = 30
palfx.time = 60
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s12,8

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= Helper(100000),var(0)
value = 1160
;-------------------------------------------------------------------------------
[Statedef 1701]
type     = S
movetype = A
physics  = S
juggle   = 3
poweradd = 100
velset   = 0,0
anim     = 1700
ctrl     = 0
sprpriority = 3

[State 1200, ]
type = ReversalDef
trigger1 = 1
reversal.attr = SA,NA,SA
numhits = 0
pausetime = 12,13
sparkno = 55
hitsound = f5,5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 8
value = s10,10

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 9
value = s0,4

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (4) <= 0
edge = 50,0

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (4) >= 0 && AnimElemTime (13) <= 0
edge = 30,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 16
x = 5

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 1 | AnimElem = 4 | AnimElem = 5 | AnimElem = 6
trigger2 = AnimElem = 8 | AnimElem = 10 | AnimElem = 11 | AnimElem = 14
x = 10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2 | AnimElem = 3
x = 15

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 9
x = 20

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 11
persistent = 0
anim = 1605
postype = P1
pos = 55,-65
sprpriority = 10
ignorehitpause = 1
ID = 1700

[State 200, ヒット定?]
type = HitDef
trigger1 = animelem = 11
attr = S, SA
damage = 53,8
animtype = Hard
guardflag = MA
hitflag = MAFP
priority = 3, Hit
pausetime = 10,12
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -65
hitsound = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 21
ground.hittime  = 21
ground.velocity = -9
air.velocity = -4,-4
air.hittime = 12
air.fall = 1
fall.recovertime = 40
palfx.time = 35
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
ground.cornerpush.veloff = -15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s12,8
persistent = 0
ignorehitpause = 1

[State 1000, ]
type = Varset
trigger1 = time = 0
var(16) = 0

[State 1000, ]
type = Varset
triggerall = AnimElemtime(15) < 0
trigger1 = command = "百弐拾七式・八錆"
var(16) = 1

[State 1000,]
type = ChangeState
trigger1 = AnimElemtime(13) >= 5 && AnimElemtime(15) < 0
trigger1 = var(16) = 1
value = 1711

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 四百壱式・罪詠み

[Statedef 1711]
type     = S
movetype = A
physics  = S
juggle   = 2
poweradd = 100
velset   = 0,0
anim     = 1710
ctrl     = 0
sprpriority = 3

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s0,4

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 25,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 1 | AnimElem = 2 | AnimElem = 3 | AnimElem = 4
x = 10

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 4
persistent = 0
anim = 1615
postype = P1
pos = 45,-65
sprpriority = 10
ignorehitpause = 1
ID = 1710

[State 2000,]
type = RemoveExplod
trigger1 = AnimElem = 4
ID = 1700

[State 200, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, SA
damage = 48,6
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,12
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -65
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 21
ground.hittime  = 21
ground.velocity = -7
ground.cornerpush.veloff = -8
air.velocity = -3,-5
air.hittime = 12
air.fall = 1
fall.recovertime = 40
palfx.time = 35
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s12,8
persistent = 0
ignorehitpause = 1

[State 1000, ]
type = Varset
trigger1 = time = 0
var(16) = 0

[State 1000, ]
type = Varset
triggerall = AnimElemtime(6) < 0
trigger1 = command = "holdfwd"
trigger1 = command = "x" || command = "y"
var(16) = 1

[State 1000,]
type = ChangeState
trigger1 = AnimElemtime(5) >= 2 && AnimElemtime(6) < 0
trigger1 = var(16) = 1
value = 1721

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 四百弐式・罰詠み

[Statedef 1721]
type     = S
movetype = A
physics  = S
juggle   = 1
poweradd = 100
velset   = 0,0
anim     = 1720
ctrl     = 0
sprpriority = 3

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s3,0

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (3) >= 0 && AnimElemTime (6) <= 0
edge = 20,-50

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 3 | AnimElem = 4 | AnimElem = 5
x = 10

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 4
x = 3
y = -5

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(4) > 0
y = .38

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A

[State 200, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = A, SA
damage = 48,4
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,12
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -75
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 21
ground.hittime  = 22
ground.velocity = -2,-9
air.velocity = -2,-9
ground.cornerpush.veloff = -5
yaccel = .43
air.type = High
air.hittime = 12
fall = 1
fall.recovertime = 50
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s12,8

[State 1000, ]
type = Varset
trigger1 = time = 0
var(16) = 0

[State 1000, ]
type = Varset
triggerall = AnimElemtime(4) >= 0 && AnimElemtime(6) < 0
trigger1 = command = "弱百式・鬼焼き" || command = "強百式・鬼焼き"
var(16) = 1

[State 1000,]
type = ChangeState
trigger1 = AnimElemtime(5) >= 1 && AnimElemtime(6) < 0
trigger1 = var(16) = 1
value = 1731

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= Helper(100000),var(0)+20
value = 1160

;---------------------------------------------------------------------------
; 百式・鬼焼き

[Statedef 1731]
type     = A
movetype = A
physics  = N
juggle   = 1
poweradd = 100
anim     = 1730
ctrl     = 0
sprpriority = 5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,11

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s12,2

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (3) <= 0
edge = 30,0

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 1
y = -3.5

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = 1
y = .32

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 1
persistent = 0
anim = 1110
postype = P1
pos = 0,0
sprpriority = 10

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 6
persistent = 0
anim = 1115
postype = P1
pos = -10,15
sprpriority = 10

[State 200, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = A, SA
damage = 55,4
animtype = up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,10
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -60
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.2,-8
guard.velocity = -9
air.velocity = -3.2,-8
ground.cornerpush.veloff = -5
yaccel = .45
air.type = High
air.hittime = 12
fall = 1
fall.recovertime = 50
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s12,8

[State 1000, ]
type = Varset
trigger1 = time = 0
var(16) = 0

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= Helper(100000),var(0)
value = 1160

;-------------------------------------------------------------------------------
[Statedef 1601]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 100
velset   = 0,0
anim     = 1600
ctrl     = 0
sprpriority = 3

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 25,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 3 | AnimElem = 4
x = 10

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,24
channel = 8

[State 1200, ]
type = ReversalDef
trigger1 = 1
reversal.attr = SA,NA,SA
numhits = 0
pausetime = 12,13
sparkno = 55
hitsound = f5,5

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1602

;---------------------------------------------------------------------------
; 百拾四式・荒咬み?攻撃

[Statedef 1602]
type     = S
movetype = A
physics  = S
juggle   = 3
poweradd = 0
velset   = 0,0
anim     = 1601
ctrl     = 0
sprpriority = 3

[State 1200, ]
type = ReversalDef
trigger1 = 1
reversal.attr = SA,NA,SA
numhits = 0
pausetime = 12,13
sparkno = 55
hitsound = f5,5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 13
value = s10,25

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s0,4

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (4) <= 0
edge = 10,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 1 | AnimElem = 2 | AnimElem = 3
x = 10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 12
x = -15

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimTime = 0
x = -12

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 6
persistent = 0
anim = 1605
postype = P1
pos = 70,-60
sprpriority = 10
ignorehitpause = 1
ID = 1600

[State 200, ヒット定?]
type = HitDef
trigger1 = animelem = 6
attr = S, SA
damage = 57,8
animtype = Hard
guardflag = MA
hitflag = MAFP
priority = 3, Hit
pausetime = 10,12
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -70
hitsound = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -9
guard.velocity = -8
air.velocity = -4,-5.2
air.hittime = 12
air.fall = 1
fall.recovertime = 60
ground.cornerpush.veloff = -15
air.cornerpush.veloff = 0
palfx.time = 35
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s12,8
persistent = 0
ignorehitpause = 1

[State 1000, ]
type = Varset
trigger1 = time = 0
var(16) = 0

[State 1000, ]
type = Varset
triggerall = AnimElemtime(12) < 0
trigger1 = command = "百拾四式・荒咬み" || command = "百拾五式・毒咬み"
var(16) = 1

[State 1000, ]
type = Varset
triggerall = AnimElemtime(12) < 0
trigger1 = command = "百弐拾七式・八錆"
var(16) = 2

[State 1000,]
type = ChangeState
trigger1 = AnimElemtime(9) >= 3 && AnimElemtime(11) < 0
trigger1 = var(16) = 1
value = 1611

[State 1000,]
type = ChangeState
trigger1 = AnimElemtime(11) >= 1 && AnimElemtime(13) < 0
trigger1 = var(16) = 2
value = 1621

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 百弐拾八式・九傷

[Statedef 1611]
type     = S
movetype = A
physics  = S
juggle   = 2
poweradd = 100
velset   = 0,0
anim     = 1610
ctrl     = 0
sprpriority = 3

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = s10,26
channel = 8

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = s10,26
channel = 8

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s0,4

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (5) <= 0
edge = 30,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2 | AnimElem = 4 | AnimElem = 5 | AnimElem = 8
trigger2 = AnimElem = 9
x = 10

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 5
persistent = 0
anim = 1615
postype = P1
pos = 55,-60
sprpriority = 10
ignorehitpause = 1
ID = 1610

[State 2000,]
type = RemoveExplod
trigger1 = AnimElem = 5
ID = 1600

[State 200, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, SA
damage = 50,6
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,12
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -70
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 21
ground.hittime  = 21
ground.velocity = -3,-5.5
guard.velocity = -8
air.velocity = -3,-7
yaccel = .4
air.hittime = 12
fall = 1
fall.recovertime = 50
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
ground.cornerpush.veloff = -15
getpower = 35,35
givepower = 16,16

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s12,8
persistent = 0
ignorehitpause = 1

[State 1000, ]
type = Varset
trigger1 = time = 0
var(16) = 0

[State 1000, ]
type = Varset
triggerall = AnimElemtime(5) >= 0 && AnimElemtime(7) < 8
trigger1 = command = "x" || command = "y"
var(16) = 1

[State 1000, ]
type = Varset
triggerall = AnimElemtime(5) >= 0 && AnimElemtime(7) < 8
trigger1 = command = "a" || command = "b"
var(16) = 2

[State 1000,]
type = ChangeState
trigger1 = AnimElemtime(7) >= 4 && AnimElemtime(7) < 8
trigger1 = var(16) = 1
value = 1621

[State 1000,]
type = ChangeState
trigger1 = AnimElemtime(7) >= 4 && AnimElemtime(7) < 8
trigger1 = var(16) = 2
value = 1631

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 百弐拾七式・八錆

[Statedef 1621]
type     = S
movetype = A
physics  = S
juggle   = 2
poweradd = 100
velset   = 0,0
anim     = 1620
ctrl     = 0
sprpriority = 3

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = prevstateno = 1602
trigger1 = AnimElem = 4
value = s10,38
channel = 8

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s0,4

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (4) <= 0
edge = 30,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 1 | AnimElem = 2 | AnimElem = 3 | AnimElem = 4
x = 10

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 4
persistent = 0
anim = 1315
postype = P1
pos = 60,-80
sprpriority = 10
ignorehitpause = 1
ID = 1600

[State 2000,]
type = RemoveExplod
trigger1 = AnimElem = 5
ID = 1610

[State 2];攻撃の指定
type = HitDef
trigger1 = prevstateno = 1611
trigger1 = animelem = 4
attr = S, SA
animtype  = up
priority = 5, Hit
damage    = 38,10
getpower = 30,30
guardflag = H
pausetime = 7,12
sparkno = 3
sparkxy = -15,-67
hitsound   = s310,0
guard.sparkno = 50
guardsound = s122,0
ground.type = low;trip
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2,10.5
air.velocity = -2,10.5
fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
palfx.color = 0
fall.envshake.time = 14
fall.envshake.ampl = -8
fall.envshake.freq = 92
fall.envshake.phase = 92

[State 200, ヒット定義]
type = HitDef
trigger1 = prevstateno = 1602
trigger1 = p2statetype != A
trigger1 = AnimElem = 4
attr = S, SA
damage = 34,6
animtype = Hard
air.animtype = Back
guardflag = H
hitflag = MAF
priority = 3, Hit
pausetime = 10,12
sparkno = 3
guard.sparkno = 50
sparkxy = -25, -70
hitsound = s1,1
guardsound = s2,1
ground.type = low
ground.slidetime = 21
ground.hittime  = 21
ground.velocity = -5
air.velocity = -4,15
air.hittime = 12
air.fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
palfx.color = 0
p2stateno = 5270 + ((p2statetype=C)*10)
guard.velocity = -11
guard.cornerpush.veloff = -15
ground.cornerpush.veloff = 0
getpower = 25,25
givepower = 16,16

[State 2];攻撃の指定
type = HitDef
trigger1 = prevstateno = 1602
trigger1 = p2statetype = A
trigger1 = AnimElem = 4
attr = S, SA
animtype  = up
priority = 5, Hit
damage    = 38,10
getpower = 30,30
guardflag = H
pausetime = 7,12
sparkno = 3
sparkxy = -15,-67
hitsound   = s310,0
guard.sparkno = 50
guardsound = s122,0
ground.type = low;trip
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2,10.5
air.velocity = -2,10.5
fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
palfx.color = 0
fall.envshake.time = 14
fall.envshake.ampl = -8
fall.envshake.freq = 92
fall.envshake.phase = 92


[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s12,8
persistent = 0
ignorehitpause = 1

[State 1000, ]
type = Varset
trigger1 = time = 0
var(16) = 0

[State 1000, ]
type = Varset
triggerall = AnimElemtime(6) < 0
trigger1 = command = "x" || command = "y"
var(16) = 1

[State 1000, ]
type = Varset
triggerall = AnimElemtime(6) < 0
trigger1 = command = "a" || command = "b"
var(16) = 2

[State 1000,]
type = ChangeState
trigger1 = AnimElemtime(5) >= 10 && AnimElemtime(6) < 0
trigger1 = var(16) = 1
value = 1641

[State 1000,]
type = ChangeState
trigger1 = AnimElemtime(5) >= 10 && AnimElemtime(6) < 0
trigger1 = var(16) = 2
value = 1631

[state 3333]
type = changestate
trigger1 = animelemtime(5) >= 0
trigger1 = command = "Moero"
value = 1850

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 百弐拾五式・七瀬

[Statedef 1631]
type     = S
movetype = A
physics  = S
juggle   = 2
poweradd = 100
velset   = 0,0
anim     = 1625
ctrl     = 0
sprpriority = 3

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = s0,4

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 1 | AnimElem = 5 | AnimElem = 6 | AnimElem = 8
x = 10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 10
x = -10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 12 | AnimElem = 14
x = -5

[State 200, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, SA
damage = 36,8
animtype = Diagup
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 11,12
sparkno = 2
guard.sparkno = 50
sparkxy = -20, -75
hitsound = s1,4
guardsound = s2,1
ground.type = High
ground.slidetime = 21
ground.hittime  = 21
ground.velocity = -6,-6.5
guard.velocity = -9
air.velocity = -6,-6.5
yaccel = .45
air.hittime = 12
fall = 1
fall.recovertime = 50
getpower = 35,35
givepower = 16,16

[State 1000,]
type = ChangeState
triggerall = power >= 1000
trigger1 = AnimElemtime(7) >= 0 && AnimElemtime(14) < 0
trigger1 = command = "百参拾五式・楔?り"
trigger2 = AnimElemtime(7) >= 0 && AnimElemtime(14) < 0
trigger2 = command = "百参拾五式・楔?り2"
value = 2300

[State 1000, ]
type = Varset
trigger1 = time = 0
var(16) = 0

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 外式・砌穿ち

[Statedef 1641]
type     = S
movetype = A
physics  = S
juggle   = 2
poweradd = 100
velset   = 0,0
anim     = 1630
ctrl     = 0
sprpriority = 3

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 5
value = s0,4

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (5) <= 0
edge = 30,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 1 | AnimElem = 2 | AnimElem = 3 | AnimElem = 4 | AnimElem = 5
x = 10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 8 | AnimElem = 10
x = -10

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 5
persistent = 0
anim = 1315
postype = P1
pos = 70,-30
sprpriority = 10

[State 2000,]
type = RemoveExplod
trigger1 = AnimElem = 5
ID = 1600

[State 200, ヒット定義]
type = HitDef
trigger1 = p2stateno != [5370,5420]
trigger1 = AnimElem = 4
attr = S, SA
damage = 32,6
animtype = Hard
guardflag = L
hitflag = MAFD
priority = 3, Hit
pausetime = 10,12
sparkno = 3
guard.sparkno = 50
sparkxy = -25, -40
hitsound = s1,1
guardsound = s2,1
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3
air.velocity = -3,15
air.type = High
air.hittime = 12
air.fall = 1
fall.recover = 0
palfx.time = 30
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
palfx.color = 0
p2stateno = 5430 + ((p2statetype=C)*10)
guard.velocity = -12
guard.cornerpush.veloff = -17
ground.cornerpush.veloff = 0
down.velocity = -3,-4
down.slidetime = 20
down.hittime = 20
getpower = 25,25
givepower = 16,16

[State 200, ヒット定義]
type = HitDef
triggerall = p2stateno = [5370,5420]
trigger1 = time = 0
attr = S, SA
damage = 32,6
animtype = Hard
guardflag = L
hitflag = MAFD
priority = 3, Hit
pausetime = 10,12
sparkno = 3
guard.sparkno = 50
sparkxy = -25, -40
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3,15
air.velocity = -3,15
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 30
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
palfx.color = 0
p2stateno = 5430
guard.velocity = -12
guard.cornerpush.veloff = -17
ground.cornerpush.veloff = 0
down.velocity = -3,-4
down.slidetime = 20
down.hittime = 20

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s12,8
persistent = 0
ignorehitpause = 1

[State 1000, ]
type = Varset
trigger1 = time = 0
var(16) = 0

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Oni Yaki
[Statedef 1100]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 100
velset   = 0,0
anim     = 1100
ctrl     = 0
sprpriority = 3

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 20,0

[State 1200, ]
type = ReversalDef
trigger1 = 1
reversal.attr = SCA,AA
numhits = 0
pausetime = 10,12
sparkno = 55
hitsound = f5,5
ID = 1155

[State 1000, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "colicion"
stateno = 1102
Id = 1102
pos = 0,0
postype = p1
facing = 1
ownpal = 1

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1105
;---------------------------------------------------------------------------
;Colicion
[StateDef 1102]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1602
poweradd = 0

[State 3110, 2]
type = BindToParent
trigger1 = time >= 0
facing = ifelse(parent, p2bodydist x <= 0, -1, 1)
pos = 20,0

[state 1000]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state 1000]
type = hitby
trigger1 = 1
value = SCA,NP,SP
time = -1

[state 1000]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP
stateno = 1102

[state 1000, destroyself]
type = destroyself
trigger1 = parent,movetype = H
trigger2 = time = 8
;---------------------------------------------------------------------------
; 弱百式・鬼焼き?攻撃
[Statedef 1105]
type     = S
movetype = A
physics  = S
juggle   = ifelse(var(10)=1,0.8,0.8)
poweradd = 0
velset   = 0,0
anim     = 1105
ctrl     = 0
sprpriority = 5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,11
channel = 4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = s12,2

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (3) <= 0
edge = 30,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 1
x = 18

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 2
x = 3.2
y = -5.2

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(2) > 0
y = .38

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 2
persistent = 0
anim = 1110
postype = P1
pos = 0,0
sprpriority = 10

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 7
persistent = 0
anim = 1115
postype = P1
pos = -10,15
sprpriority = 10

[State 200, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = A, SA
damage = 92,18
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 12,12
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -60
hitsound = s1,1
guardsound = s2,1
air.hittime = 12
ground.type = High
ground.slidetime = 35
ground.hittime = 18
ground.velocity = -2.3,-9.5
air.velocity = -2.3,-9
airguard.velocity = -5,-7
guard.velocity = -10
air.type = High
air.hittime = 12
air.juggle = 0
fall = 1
fall.recovertime = 50
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16
yaccel = .5

[State 200, ヒット定?]
type = HitDef
triggerall = moveguarded
trigger1 = animelem = 2
attr = S, SA
damage = 92,10
animtype = hard
guardflag = MA
hitflag = MAF
getpower = 35,35
givepower = 16,16
priority = 3, Hit
pausetime = 10,12
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -65
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 16
ground.hittime  = 20
ground.velocity = -2.3,-9.5
air.velocity = -2.3,-9
guard.velocity = -12
airguard.velocity = -5,-7
air.type = High
air.hittime = 12
fall = 1
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
yaccel = .5

[State 200, ヒット定?]
type = HitDef
triggerall = numexplod(4150) = 1
trigger1 = animelem = 2
attr = S, SA
damage = 40,10
animtype = hard
guardflag = MA
hitflag = MAF
getpower = 35,35
givepower = 16,16
priority = 3, Hit
pausetime = 12,12
sparkno = 2
guard.sparkno = 50
sparkxy = -15, -75
hitsound = s1,1
guardsound = s8,11
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = -2.3,-9.5
air.velocity = -2.3,-9
airguard.velocity = -5,-7
air.type = High
air.hittime = 12
air.juggle = 0
fall = 1
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
yaccel = .5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s12,8

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= Helper(100000),var(0)
value = 1120

;---------------------------------------------------------------------------
[Statedef 1120]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1120
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 1
value = s4,0

[State 1000,]
type = PosSet
trigger1 = Time = 0
y = Helper(100000),var(0)

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 強百式・鬼焼き?発動
[Statedef 1150]
type     = S
movetype = A
physics  = S
juggle   = 1
poweradd = 110
velset   = 0,0
anim     = 1150
ctrl     = 0
sprpriority = 3

[State 1120, 全身無敵]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 5

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 20,0

[State 1200, ]
type = ReversalDef
trigger1 = 1
reversal.attr = SA,NA,SA
numhits = 0
pausetime = 12,13
sparkno = 55
hitsound = f5,5

[State 1000, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "colicion"
stateno = 1151
Id = 1151
pos = 0,0
postype = p1
facing = 1
ownpal = 1

[State 12000, PosFreeze]
type = PosFreeze
trigger1 = enemynear,projcontact = 1 && time = [0,12]

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 1155

;---------------------------------------------------------------------------
;Colicion
[StateDef 1151]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1602
poweradd = 0

[State 3110, 2]
type = BindToParent
trigger1 = time >= 0
facing = ifelse(parent, p2bodydist x <= 0, -1, 1)
pos = 10,0

[state 1000]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state 1000]
type = hitby
trigger1 = 1
value = SCA,NP,SP
time = -1

[state 1000]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP
stateno = 1151

[state 1000, destroyself]
type = destroyself
trigger1 = parent,stateno != 1150
trigger2 = parent,animtime = 0
;---------------------------------------------------------------------------
; 強百式・鬼焼き?攻撃

[Statedef 1155]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 100
velset   = 0,0
anim     = 1155
ctrl     = 0
sprpriority = 5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,11
channel = 4

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = s12,2

[State 210, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (3) <= 0
edge = 30,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 1
x = 18

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 2
x = 3.8
y = -7.7

[State 1000, 軸位置移動]
type = VelAdd
trigger1 = AnimElemtime(2) > 0
y = .42

[State 6000, 3]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 2
persistent = 0
anim = 1110
postype = P1
pos = 0,0
sprpriority = 10

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 7
persistent = 0
anim = 1115
postype = P1
pos = -10,15
sprpriority = 10

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
damage = 54,10
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 12,12
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -60
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -9
air.velocity = -2.3,-9
airguard.velocity = -5,-7
guard.velocity = -12
air.type = High
air.hittime = 12
air.fall = 1
fall.recovertime = 30
palfx.time = 25
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16
yaccel = .5

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = Movecontact = 0 && AnimElem = 2
trigger2 = AnimElem = 3
attr = A, SA
damage = 50,10
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,12
sparkno = 2
guard.sparkno = 50
sparkxy = -25, -60
hitsound = s1,1
guardsound = s2,1
ground.type = High
ground.slidetime = 35
ground.hittime = 20
ground.velocity = -2.3,-10
air.velocity = -2.3,-9
airguard.velocity = -5,-7
guard.velocity = -12
air.type = High
air.hittime = 12
fall = 1
fall.recovertime = 30
guard.velocity = -10
palfx.time = 60
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16
yaccel = .5

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = Movehit = 1
value = s12,8

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= Helper(100000),var(0)
value = 1160

;---------------------------------------------------------------------------
; 着地
[Statedef 1160]
type     = S
movetype = I
physics  = S
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1160
ctrl     = 0
sprpriority = 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = time = 1
value = s4,0

[State 1000,]
type = PosSet
trigger1 = Time = 0
y = Helper(100000),var(0)

[State 1000, 軸位置移動]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 1400]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 100
velset   = 0,0
anim     = 1400
ctrl     = 0
sprpriority = 2

[State 200,]
type = Posadd
trigger1 = AnimElem = 3
x = 10

[State 200,]
type = Posadd
trigger1 = AnimElem = 4
x = 20

[State 200,]
type = Posadd
trigger1 = AnimElem = 5
x = -20

[State 200,]
type = Posadd
trigger1 = AnimElem = 6
x = -10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 7 | AnimElem = 11 | AnimElem = 12 | AnimElem = 14
x = 10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 16
x = -10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 18 | AnimElem = 20
x = -5

[State 810, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 50,0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 12
value = s0,2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 26
value = s0,3

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,23

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 25
value = s10,16

[State 2];罪詠み
type = HitDef
triggerall = p2stateno != 1890
trigger1 = animelem = 4
attr = S, HA
animtype  = hard
damage    = 40,10
getpower = 0,0
guardflag = M
pausetime = 5,6
sparkno = 2
sparkxy = -25,-27
hitsound   = s1,3
guard.sparkno = s4120
guardsound = s2,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -3.5,0
air.velocity = -3,-3.5
snap = 50,0
fall = 0
fall.recover = 0
p2stateno = 2154
kill = 0

[State 2];罪詠み
type = HitDef
triggerall = p2stateno != 1890
trigger1 = animelem = 13
attr = S, HA
animtype  = hard
damage    = 40,10
getpower = 0,0
guardflag = M
pausetime = 5,6
sparkno = 2
sparkxy = -25,-77
hitsound   = s1,3
guard.sparkno = s4120
guardsound = s2,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -3.5,0
air.velocity = -3,-3.5
snap = 50,0
fall = 0
fall.recover = 0
p2stateno = 2153
kill = 0

[State 2];罪詠み
type = HitDef
triggerall = p2stateno != 1890
trigger1 = animelem = 28
attr = S, HA
animtype  = hard
damage    = 40,10
getpower = 0,0
guardflag = H
pausetime = 5,6
sparkno = 2
sparkxy = -25,-77
hitsound   = s1,3
guard.sparkno = s4120
guardsound = s2,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -3.5,0
air.velocity = -3,-3.5
snap = 50,0
fall = 0
fall.recover = 0
p2stateno = 1880
kill = 1

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 1880]
type    = A
movetype= H
physics = N
velset = 0,0
facep2 = 1

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = VelSet
trigger1 = time = 10
x = -5
y = 15

[State 52, 2]
type = Veladd
trigger1 = time >= 10
y = .5

[State 810,]
type = EnvShake
trigger1 = Pos Y >= Helper(100000),var(0)
trigger1 = Vel Y > 0
ampl = 10
freq = 120
time = 10

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5030

[State 1830]
type = changestate
trigger1 = Pos Y >= Helper(100000),var(0)
trigger1 = Vel Y > 0
value = 1885

;-------------------------------------------------------------------------------
[Statedef 1885]
type    = L
movetype= H
physics = N

[State 5100, 2004.04.14 behavior]
type = null;VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x < -1
x = -1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5100

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = Helper(100000),var(0)

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75


[State 5100, 8]
type = GameMakeAnim
triggerall = anim = [5101,5102]
trigger1 = Time = 1
value = 61
pos = 0, 0
under = 1

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 60 + (sysvar(1) > 5)
pos = 0, 0
under = sysvar(0) <= 5

[State 5100, PalFX]
type = PalFX
trigger1 = time = 0
time = 1

;;========================================================
;;=================================================Crater
[State 1000, EnvShake]
type = EnvShake
trigger1 = (sysvar(1) > 14)
trigger1 = time = 0
time = 20
freq = 100
ampl = -4

[State 1000, EnvColor]
type = EnvColor
trigger1 = (sysvar(1) > 14)
trigger1 = time = 0
value = 255,255,255
time = 2
under = 1

;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
;Efecto Estampada Normal (No creater)
[State 1000, Explod]
type = Explod
trigger1 = (sysvar(1) > 14)
trigger1 = Time = 0
anim = f64
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = -1
removeongethit = 0

[State 1000, Explod]
type = Explod
trigger1 = (sysvar(1) > 14)
trigger1 = Time = 0
anim = f65
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 9
removeongethit = 0

[State 1000, Pause]
type = Pause
triggerall = RoundState = 2
trigger1 = (sysvar(1) > 14)
trigger1 = time = [0,25]
time = 1
movetime = 1
ignorehitpause = 1

[State 5100, 12]
type = PlaySnd
trigger1 = (sysvar(1) > 14)
trigger1 = Time = 1
value = F7,8
volumescale = 50
;-------------------------------------------------------------------------------

;;--------------------------------------------
;-------------------------------------------

[State 5000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = f7,5
volumescale = 50

[State 5100, 13]
type = PosFreeze
trigger1 = 1

[State 5100, 14]
type = ChangeState
trigger1 = time = 4
value = 1890

[State 5100, 15]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5100, 16]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;-------------------------------------------------------------------------------
[Statedef 1890]
type    = A
movetype= H
physics = N
velset = 0,0
facep2 = 1

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 52, 1]
type = VelSet
trigger1 = time = 5
x = -3
y = -10.5

[State 52, 2]
type = Veladd
trigger1 = time >= 5
y = .5

[State 1830]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5050

[State 1830]
type = SelfState
trigger1 = Pos Y >= Helper(100000),var(0)
trigger1 = Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
; 強弐百拾弐式・琴月?陽

[Statedef 1450]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 100
velset   = 0,0
anim     = 1450
ctrl     = 0
sprpriority = 2

[State 810, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 50,0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = s5,0
channel = 13

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = s10,23

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(10) <= 0
x = 9

[State 1000, 軸位置移動]
type = Velset
trigger1 = Animtime = 0
x = 0

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(9) <= 0
trigger1 = p2bodydist X < 70
value = 1405

[State 1000, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 琴月?肘打ち

[Statedef 1405]
type     = S
movetype = A
physics  = S
juggle   = 8
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 1405
sprpriority = 5

[State 810, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 30,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2
x = 10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 6
x = -10

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(3) < 0
x = 8

[State 1000, 軸位置移動]
type = Velset
trigger1 = AnimElem = 5
x = 0

[State 200, ヒット定?]
type = HitDef
trigger1 = time = 0
attr = S, SA
damage = 30, 6
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10,13
sparkno = 2
guard.sparkno = 50
sparkxy = -20, -60
hitsound = s1,1
guardsound = s2,1
ground.type = Low
ground.slidetime = 19
ground.hittime  = 20
ground.velocity = -15
air.type = High
air.velocity = -5,-5
air.hittime = 12
air.fall = 1
fall.recovertime = 30
getpower = 35,35
givepower = 16,16

[State 210, ステ?ト変更]
type = ChangeState
trigger1 = Movecontact
value = 1410

[State 210, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 琴月?掴み

[Statedef 1410]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 1410
sprpriority = 5

[State 810, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemtime(1) > 0 && AnimElemtime(4) < 0
edge = 50,0

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 2 | AnimElem = 4
x = 10

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 3
x = 30

[State 200, ヒット定?]
type = HitDef
trigger1 = AnimElem = 4
attr = S, ST
damage = 0, 0
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = 2
guard.sparkno = 50
sparkxy = 15, -75
hitsound = s1,6
guardsound = s2,1
ground.type = High
ground.slidetime = 19
ground.hittime  = 20
ground.velocity = 0
guard.velocity = -9
air.type = High
air.velocity = 0,0
airguard.velocity = -4,-5
air.hittime = 12
fall = 1
fall.recover = 0
p1stateno = 1415
p2stateno = 1420
p1facing = 1
p2facing = 1
ground.cornerpush.veloff = ifelse(Movehit=1,1,0)
air.cornerpush.veloff = ifelse(Movehit=1,1,0)
getpower = 35,35
givepower = 16,16

[State 210, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 琴月?爆破

[Statedef 1415]
type     = S
movetype = A
physics  = S
juggle   = 0
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 1415
sprpriority = 5

[State 170, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 50,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = time = 23
value = s10,43

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = s12,5

[State 1100, エフェクト?示]
type = Explod
trigger1 = AnimElem = 3
persistent = 0
anim = 1430
postype = P1
pos = 45,-90
sprpriority = 10
scale = 0.75,0.75

[State 1000, 軸位置移動]
type = Posadd
trigger1 = AnimElem = 1
x = 10

[State 810, 3]
type = TargetBind
trigger1 = AnimElemtime(1) >= 0 && AnimElemtime(2) <= 0
pos = 42, -90

[State 810, 3]
type = TargetBind
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(3) <= 0
pos = 42, -122

[State 810, 3]
type = TargetBind
trigger1 = AnimElemtime(3) = 1
pos = 42, -50

[State 2110, 相手と重なった時の処理]
type = PlayerPush
trigger1 = 1
value = 0

[State 810,]
type = EnvShake
trigger1 = AnimElem = 3
ampl = 10
freq = 100
time = 20

[State 2004]
type = pause
trigger1 = time = [21,29]
trigger1 = Timemod = 3,0
time = 3

[State 810, ヒット定?]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NT
damage = 100,0
animtype = Hard
hitflag = MAF
priority = 3, Hit
pausetime = 0,0
sparkno = -1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.5,-11
air.velocity = -1.5,-11
yaccel = .5
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
palfx.time = 50
palfx.add = 0,-50,80
palfx.sinadd = 50,50,50,15
palfx.color = 1
palfx.invertall = 1
getpower = 35,35
givepower = 16,16

[State 210, ステ?ト変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;投げられている相手の動作

[Statedef 1420]
type    = A
movetype= H
physics = N
velset = 0,0

[State 2120]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1420

[State 820, 1]
type = SelfState
trigger1 = Animtime = 0
value = 5100
